---
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";
import BlogCard from "./BlogCard.astro";

const posts = (await getCollection("blog"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<section
  class="bg-[#EBEFF3] py-16 flex flex-col gap-4 px-4 sm:px-6 lg:px-8 sm:py-10 md:py-12"
>
  <div class="mx-auto max-w-screen-xl w-full py-4">
    <div
      class="flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between"
    >
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl sm:text-4xl font-bold text-center text-gray-900">Vecticum naujienos</h2>

      </div>


    </div>
  </div>
  <div
    class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 max-w-screen-xl mx-auto w-full"
  >
    {posts.map((post) => <BlogCard post={post} />)}
  </div>

  <div class="flex items-center gap-4 justify-center">
  <a
    href="/naujienos"
    class="inline-flex items-center rounded-full bg-[#3C7099] px-6 py-3 text-white text-sm font-semibold shadow hover:bg-[#356184] transition-colors focus:outline-none focus:ring-2 focus:ring-[#3C7099]/40"
  >
    <span>Peržiūrėti visus įrašus</span>
  </a>
</div>
</section>
